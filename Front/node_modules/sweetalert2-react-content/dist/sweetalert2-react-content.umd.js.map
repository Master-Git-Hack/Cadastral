{"version":3,"file":"sweetalert2-react-content.umd.js","sources":["../src/mounts.js","../src/index.js"],"sourcesContent":["export const mounts = [\n  {\n    key: 'title',\n    getter: (swal) => swal.getTitle(),\n  },\n  {\n    key: 'html',\n    getter: (swal) => swal.getHtmlContainer(),\n  },\n  {\n    key: 'confirmButtonText',\n    getter: (swal) => swal.getConfirmButton(),\n  },\n  {\n    key: 'denyButtonText',\n    getter: (swal) => swal.getDenyButton(),\n  },\n  {\n    key: 'cancelButtonText',\n    getter: (swal) => swal.getCancelButton(),\n  },\n  {\n    key: 'footer',\n    getter: (swal) => swal.getFooter(),\n  },\n  {\n    key: 'closeButtonHtml',\n    getter: (swal) => swal.getCloseButton(),\n  },\n  {\n    key: 'iconHtml',\n    getter: (swal) => swal.getIcon().querySelector('.swal2-icon-content'),\n  },\n  {\n    key: 'loaderHtml',\n    getter: (swal) => swal.getLoader(),\n  },\n]\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { mounts } from './mounts'\n\nconst noop = () => {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport default function withReactContent(ParentSwal) {\n  /* Returns `params` separated into a tuple of `reactParams` (the React params that need to be rendered)\n  and`otherParams` (all the other parameters, with any React params replaced with a space ' ') */\n  function extractReactParams(params) {\n    const reactParams = {}\n    const otherParams = {}\n    const mountKeys = mounts.map((mount) => mount.key)\n    Object.entries(params).forEach(([key, value]) => {\n      if (mountKeys.includes(key) && React.isValidElement(value)) {\n        reactParams[key] = value\n        otherParams[key] = ' '\n      } else {\n        otherParams[key] = value\n      }\n    })\n    return [reactParams, otherParams]\n  }\n\n  function render(swal, reactParams) {\n    Object.entries(reactParams).forEach(([key, value]) => {\n      const mount = mounts.find((mount) => mount.key === key)\n      const domElement = mount.getter(ParentSwal)\n      const root = createRoot(domElement)\n      root.render(value)\n      swal.__roots.push(root)\n    })\n  }\n\n  function unrender(swal) {\n    swal.__roots.forEach((root) => {\n      root.unmount()\n    })\n    swal.__roots = []\n  }\n\n  return class extends ParentSwal {\n    static argsToParams(args) {\n      if (React.isValidElement(args[0]) || React.isValidElement(args[1])) {\n        const params = {}\n        ;['title', 'html', 'icon'].forEach((name, index) => {\n          if (args[index] !== undefined) {\n            params[name] = args[index]\n          }\n        })\n        return params\n      } else {\n        return ParentSwal.argsToParams(args)\n      }\n    }\n\n    _main(params, mixinParams) {\n      this.__roots = []\n      this.__params = Object.assign({}, mixinParams, params)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      const superWillOpen = otherParams.willOpen || noop\n      const superDidOpen = otherParams.didOpen || noop\n      const superDidDestroy = otherParams.didDestroy || noop\n      return super._main(\n        Object.assign({}, otherParams, {\n          willOpen: (popup) => {\n            render(this, reactParams)\n            superWillOpen(popup)\n          },\n          didOpen: (popup) => {\n            // read more about why this setTimeout is needed here:\n            // https://github.com/reactwg/react-18/discussions/5 (What about the render callback?)\n            setTimeout(() => {\n              superDidOpen(popup)\n            })\n          },\n          didDestroy: (popup) => {\n            superDidDestroy(popup)\n            unrender(this)\n          },\n        })\n      )\n    }\n\n    update(params) {\n      Object.assign(this.__params, params)\n      unrender(this)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      super.update(otherParams)\n      render(this, reactParams)\n    }\n  }\n}\n"],"names":["mounts","key","getter","swal","getTitle","getHtmlContainer","getConfirmButton","getDenyButton","getCancelButton","getFooter","getCloseButton","getIcon","querySelector","getLoader","noop","withReactContent","ParentSwal","extractReactParams","params","reactParams","otherParams","mountKeys","map","mount","Object","entries","forEach","value","includes","React","isValidElement","render","find","domElement","root","createRoot","__roots","push","unrender","unmount","argsToParams","args","name","index","undefined","_main","mixinParams","__params","assign","superWillOpen","willOpen","superDidOpen","didOpen","superDidDestroy","didDestroy","popup","setTimeout","update"],"mappings":"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"}